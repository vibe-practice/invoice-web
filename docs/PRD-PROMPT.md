# 🧠 META PROMPT: 견적서 웹 조회 시스템 MVP PRD 생성기

> **사용법**: 이 프롬프트를 Claude, ChatGPT 등 AI 어시스턴트에 붙여넣으면
> 프로젝트에 최적화된 MVP PRD 문서가 생성됩니다.

---

## 프롬프트 시작

```
당신은 10년 이상의 경력을 가진 시니어 프로덕트 매니저입니다.
B2B SaaS, 문서 관리 시스템, API 통합 프로젝트에 대한 깊은 경험이 있습니다.

아래의 [프로젝트 컨텍스트]를 기반으로, MVP PRD(Product Requirements Document) 문서를 작성해주세요.

---

## [프로젝트 컨텍스트]

### 프로젝트명
invoice-web — 견적서 웹 조회 및 PDF 다운로드 시스템

### 프로젝트 한 줄 요약
관리자가 노션(Notion)에 견적서 데이터를 입력하면, 클라이언트가 고유 URL을 통해 웹에서 견적서를 열람하고 PDF로 다운로드할 수 있는 시스템

### 핵심 워크플로우
```
[관리자] 노션 DB에 견적서 작성
       ↓
[시스템] Notion API로 데이터 조회
       ↓
[클라이언트] 고유 URL로 웹 페이지 접속
       ↓
[클라이언트] 견적서 열람 + PDF 다운로드
```

### 확정된 기술 스택 (변경 불가)
| 항목 | 기술 |
|------|------|
| 프레임워크 | Next.js 16 (App Router, React Server Components) |
| UI 런타임 | React 19 |
| 언어 | TypeScript 5 (strict mode) |
| 스타일링 | Tailwind CSS v4 |
| UI 컴포넌트 | shadcn/ui (New York 스타일, Radix UI 기반) |
| 아이콘 | Lucide React |
| 데이터 소스 | Notion API (데이터베이스) |
| PDF 생성 | 미정 (PRD에서 기술 옵션 비교 필요) |
| 배포 | Vercel (예정) |

### 사용자 페르소나

**페르소나 1: 관리자 (Admin)**
- 역할: 회사 내부 직원 (영업팀, 경영지원팀)
- 행동: 노션에서 직접 견적서 데이터를 입력/수정
- 니즈: 별도 관리 페이지 없이 노션만으로 견적서 관리
- 기술 수준: 노션 사용에 익숙

**페르소나 2: 클라이언트 (Client)**
- 역할: 견적서를 받는 외부 고객
- 행동: 공유받은 링크로 웹 페이지 접속, 견적서 확인 후 PDF 다운로드
- 니즈: 빠르고 깔끔한 견적서 열람, 한 번의 클릭으로 PDF 저장
- 기술 수준: 일반 사용자 (비개발자)

---

## [PRD 작성 지침]

아래 구조를 반드시 따르되, 각 섹션에 충분한 디테일을 포함해주세요.

### 📋 필수 포함 섹션

#### 1. Executive Summary (경영진 요약)
- 프로젝트 배경과 목적 (3~5문장)
- 해결하려는 핵심 문제
- 기대 효과 (정성적 + 정량적)
- MVP 범위 한 줄 정의

#### 2. Problem Statement (문제 정의)
- 현재 견적서 관리의 페인 포인트 (최소 3가지)
- 기존 방식(이메일, 엑셀, 수동 PDF 등)의 한계
- 이 문제가 비즈니스에 미치는 영향

#### 3. Solution Overview (솔루션 개요)
- 시스템 아키텍처 다이어그램 (Mermaid 문법 사용)
- 데이터 흐름: 노션 입력 → API 조회 → 웹 렌더링 → PDF 생성
- 핵심 기술 결정 사항과 근거

#### 4. 노션 데이터베이스 스키마 설계
아래 필드를 포함하되, 실무에 필요한 필드를 추가로 제안해주세요:

**견적서 메인 DB (Estimates)**
| 필드명 | 타입 | 필수 | 설명 |
|--------|------|------|------|
| 견적번호 | Title | ✅ | 고유 식별자 (예: EST-2026-001) |
| 클라이언트명 | Text | ✅ | 고객사 이름 |
| 견적일자 | Date | ✅ | 견적서 발행일 |
| 유효기한 | Date | ✅ | 견적 유효 만료일 |
| 상태 | Select | ✅ | 초안/발행/승인/만료/취소 |
| 총 금액 | Number | ✅ | 자동 합산 또는 수동 입력 |
| 담당자 | Person | ✅ | 내부 담당자 |
| 비고 | Rich Text | ❌ | 추가 안내사항 |
| ... | ... | ... | 실무에 필요한 추가 필드 제안 |

**견적 항목 DB (Estimate Items)** — 관계형 연결
| 필드명 | 타입 | 필수 | 설명 |
|--------|------|------|------|
| 항목명 | Title | ✅ | 서비스/제품명 |
| 수량 | Number | ✅ | 수량 |
| 단가 | Number | ✅ | 단위 가격 |
| 소계 | Formula | ✅ | 수량 × 단가 |
| 견적서 | Relation | ✅ | 메인 DB 연결 |
| ... | ... | ... | 추가 필드 제안 |

- 노션 DB 간 관계(Relation) 설계를 명확히 설명
- 데이터 정합성을 위한 노션 수식(Formula) 활용 방안

#### 5. 기능 요구사항 (Functional Requirements)

**FR-01: 견적서 웹 조회**
- 고유 URL 구조 설계 (예: `/estimate/[id]` vs `/e/[slug]`)
- URL 접근 권한 전략 (공개 vs 토큰 기반 vs 비밀번호)
- 견적서 상태별 표시 로직 (만료/취소 시 처리)
- 로딩 상태, 에러 상태 처리
- SEO 메타태그 및 OG 태그 설정

**FR-02: 견적서 UI 레이아웃**
- 견적서 웹 페이지의 와이어프레임 (텍스트 기반)
- 필수 표시 정보 목록
- 반응형 브레이크포인트별 레이아웃 변화
- 회사 브랜딩 (로고, 색상, 연락처) 표시 영역

**FR-03: PDF 다운로드**
- PDF 생성 기술 옵션 비교 (최소 3가지)
  - 각 옵션의 장단점, 비용, 성능
  - MVP에 추천하는 옵션과 이유
- PDF 레이아웃 (A4 기준)
- PDF 파일명 규칙 (예: `견적서_클라이언트명_날짜.pdf`)
- 생성 시간 목표 (3초 이내 권장)

**FR-04: Notion API 통합**
- Notion API 호출 전략 (SSR vs ISR vs On-demand)
- 캐싱 전략 및 재검증(revalidation) 주기
- API Rate Limit 대응 방안
- 에러 핸들링 (노션 서버 다운, 권한 오류 등)

#### 6. 비기능 요구사항 (Non-Functional Requirements)

| 항목 | 기준 |
|------|------|
| 성능 | 페이지 로드 3초 이내 (LCP 기준) |
| 가용성 | 99.5% 이상 (Vercel 기준) |
| 보안 | 견적서 URL 예측 불가능성 확보 |
| 접근성 | WCAG 2.1 AA 수준 |
| 브라우저 | Chrome, Safari, Edge 최신 2개 버전 |
| 디바이스 | 데스크톱, 태블릿, 모바일 반응형 |
| PDF 크기 | 1MB 이하 |

#### 7. 페이지 라우팅 구조

Next.js App Router 기반 라우팅 맵:
```
app/
├── page.tsx                    → 랜딩/홈 (필요 시)
├── estimate/[id]/
│   ├── page.tsx                → 견적서 조회 페이지
│   └── loading.tsx             → 로딩 UI
├── estimate/[id]/pdf/
│   └── route.ts                → PDF 생성 API Route
├── not-found.tsx               → 404 페이지
└── error.tsx                   → 에러 페이지
```
- 위 구조를 기반으로 조정/확장 제안

#### 8. API 설계

| Method | Endpoint | 설명 |
|--------|----------|------|
| GET | `/estimate/[id]` | 견적서 페이지 (SSR) |
| GET | `/api/estimate/[id]/pdf` | PDF 다운로드 |
| ... | ... | 필요한 API 추가 제안 |

- Notion API 연동 서비스 레이어 설계
- 타입스크립트 인터페이스 초안

#### 9. MVP 스코프 정의

**✅ MVP에 포함 (Phase 1)**
- 반드시 포함해야 하는 핵심 기능 목록
- 각 기능의 우선순위 (P0/P1/P2)

**❌ MVP에서 제외 (Phase 2+)**
- 의도적으로 뺀 기능과 그 이유
- 향후 로드맵 제안 (예: 관리자 대시보드, 견적서 승인 워크플로우, 이메일 알림 등)

#### 10. 기술 구현 고려사항

- Notion API 인티그레이션 키 관리 (.env)
- 환경 변수 목록 및 설명
- 에러 바운더리 전략
- 로깅 및 모니터링 방안
- 성능 최적화 전략 (이미지, 폰트, 번들 사이즈)

#### 11. 위험 요소 및 대응 방안 (Risks & Mitigations)

| 위험 요소 | 영향도 | 발생 확률 | 대응 방안 |
|-----------|--------|-----------|-----------|
| Notion API 장애 | 높음 | 낮음 | 캐싱 전략 |
| ... | ... | ... | ... |
- 최소 5가지 위험 요소 식별

#### 12. 성공 지표 (Success Metrics)

- 정량적 KPI (예: PDF 다운로드 전환율, 페이지 로드 시간)
- 정성적 지표 (예: 클라이언트 만족도)
- 측정 방법

#### 13. 마일스톤 및 개발 일정 (추정)

| 마일스톤 | 주요 작업 | 예상 기간 |
|----------|-----------|-----------|
| M1: 기반 구축 | 노션 API 연동, 타입 정의 | ... |
| M2: 견적서 페이지 | UI 구현, 반응형 | ... |
| M3: PDF 기능 | PDF 생성, 다운로드 | ... |
| M4: 배포 | Vercel 배포, 테스트 | ... |

---

## [작성 규칙]

1. **언어**: 한국어로 작성 (기술 용어는 영어 병기 가능)
2. **형식**: Markdown 형식, 표(Table) 적극 활용
3. **다이어그램**: Mermaid 문법 사용 (시스템 아키텍처, 데이터 흐름, 시퀀스 다이어그램)
4. **구체성**: "~해야 한다" 수준이 아닌, 구현 가능한 수준의 디테일
5. **트레이드오프**: 기술 선택 시 반드시 대안과 비교 분석 포함
6. **MVP 집중**: 과도한 기능 확장 자제, 핵심 가치에 집중
7. **실무 기반**: 이론적 문서가 아닌, 바로 개발에 착수할 수 있는 수준

## [추가 고려 요청사항]

만약 위 컨텍스트만으로 결정하기 어려운 부분이 있다면,
**2~3가지 옵션을 제시하고 각각의 장단점을 비교**한 후 MVP에 적합한 추천안을 명시해주세요.

특히 다음 사항에 대해 깊이 있는 분석을 부탁합니다:
1. **URL 보안 전략**: 견적서 URL을 어떻게 보호할 것인가 (공개 링크 vs 토큰 vs 비밀번호)
2. **PDF 생성 방식**: 서버사이드 렌더링 기반 vs 클라이언트사이드 vs 외부 서비스
3. **데이터 캐싱**: 노션 API 호출 최소화를 위한 캐싱 전략
4. **견적서 번호 체계**: 자동 생성 vs 수동 입력, 포맷 규칙
```

---

## 🎛️ 커스터마이징 가이드

위 프롬프트를 사용하기 전에, 아래 항목을 프로젝트 실정에 맞게 수정하세요:

### 필수 커스터마이징
| 항목 | 현재 값 | 수정 방법 |
|------|---------|-----------|
| 회사명 | 미지정 | 견적서에 표시할 회사명 추가 |
| 견적서 필드 | 기본 제안 | 실제 사용하는 견적서 항목으로 수정 |
| 브랜딩 | 미지정 | 로고, 브랜드 색상, 연락처 등 추가 |
| 화폐 단위 | 미지정 | KRW, USD 등 사용 화폐 명시 |

### 선택 커스터마이징
| 항목 | 설명 |
|------|------|
| 다국어 지원 | 견적서 다국어 필요 시 추가 |
| 세금 계산 | 부가세 자동 계산 필요 시 명시 |
| 전자서명 | 견적서 승인/서명 기능 필요 시 추가 |
| 알림 기능 | 견적서 열람 시 알림 필요 시 추가 |

---

## 📖 사용 예시

### 기본 사용
프롬프트 전체를 복사하여 AI에 붙여넣기

### 세부 조정 사용
```
[위 프롬프트 전체]

추가 컨텍스트:
- 회사명: ABC 컴퍼니
- 주요 서비스: IT 컨설팅, 웹 개발
- 화폐: KRW (원화)
- 부가세: 10% 별도 표기
- 견적서 유효기간 기본값: 30일
- 월 예상 견적서 발행 수: 20~30건
```

### 특정 섹션만 보강
```
위에서 작성한 PRD의 "PDF 생성" 섹션을 더 깊이 분석해주세요.
특히 다음을 비교해주세요:
1. @react-pdf/renderer
2. Puppeteer (서버사이드)
3. html2canvas + jsPDF
4. Vercel OG 스타일 접근
각 옵션의 Vercel 서버리스 환경 호환성을 반드시 고려해주세요.
```
